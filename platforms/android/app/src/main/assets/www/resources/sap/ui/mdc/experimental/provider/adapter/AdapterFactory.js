sap.ui.define(["sap/ui/model/MetaModel","sap/ui/mdc/experimental/provider/adapter/ODataFieldAdapter","sap/ui/mdc/experimental/provider/adapter/ODataObjectAdapter"],function(M,O,a){"use strict";var F={adapterCache:{},promiseCache:{},defaultAdapter:{"field":"sap/ui/mdc/experimental/provider/adapter/ODataFieldAdapter","object":"sap/ui/mdc/experimental/provider/adapter/ODataObjectAdapter"},adapterClassCache:{"sap/ui/mdc/experimental/provider/adapter/ODataFieldAdapter":O,"sap/ui/mdc/experimental/provider/adapter/ODataObjectAdapter":a}};F.requestAdapter=function(m,o){var k=F._getKeyInfo(o);if(!m.getMetaModel()){throw new Error("sap.ui.mdc.experimental.provider.model.ModelAdapterFactory: Only models with meta model are allowed");}if(!F.promiseCache[k.key]){F.promiseCache[k.key]=new Promise(function(r,b){var A=F.getAdapter(m,o);if(A){r(A);}else{sap.ui.require([o.adapter],function(c){var A=new c(m,o.model,o.name);if(A){F.adapterCache[k.key]=A;r(A);}else{b("Invalid class");}});}});}return F.promiseCache[k.key];};F.getAdapter=function(m,o){var k=F._getKeyInfo(o);var c=F.adapterClassCache[k.adapter];if(!m.getMetaModel()){throw new Error("sap.ui.mdc.experimental.provider.model.ModelAdapterFactory: Only models with meta model are allowed");}if(F.adapterCache[k.key]){return F.adapterCache[k.key];}else if(c){F.adapterCache[k.key]=new c(m,o.model,o.name);return F.adapterCache[k.key];}return null;};F._getKeyInfo=function(m){if(!m.adapter){m.adapter=F.defaultAdapter[m.kind];}var k={adapter:m.adapter,modelName:m.model,context:m.name,key:m.model+">"+m.name+">"+m.adapter};return k;};F.cacheAdapterClass=function(A,b){F.adapterClassCache[A]=b;};return F;});
